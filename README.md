# DemoBlaze-automated-SmokeTest

## **Features**

- Utilizes Playwright test framework for fast, reliable browser automation.
- Supports both local and containerized test execution.
- Configurable base URL for flexible environment targeting.
- Dockerized setup with HTML report server exposed on port 9323.
- CI integration via GitHub Actions with artifact publishing.
- Modular test structure with page object model for maintainability.
- Includes robust handling for modal interactions and flaky UI elements.

---

## **Requirements**

- Node.js must be installed on the machine that runs this test.  
  You can install Node.js via command line. For installation instructions, see [**Node.js official website**](https://nodejs.org/en/download)

- Docker and Docker Compose (for containerized runs).  
  See [**Docker installation guide**](https://docs.docker.com/get-docker/) for setup instructions.

---

## **Inputs**

### **`Base URL`**
- **Description**: URL to the website that is to be tested.  
- **Required**: No.  
- **Type**: String.

Provide the URL to, for instance, `https://www.amazon.co.uk` to overwrite the default `https://www.demoblaze.com`.

---

## **Outputs**

### **`Test results`**
- **Description**: Result of tests ran on different browsers.
- **Format**: HTML report generated by Playwright.
- **Location**:
  - Locally: `playwright-report/`
  - Docker: Accessible via `http://localhost:9323`
  - GitHub Actions: Published as downloadable artifact

---

## **Environments to Run**

- âœ… **Local machine**  
  Run tests headlessly or in headed mode using Playwright CLI.

- âœ… **Docker container**  
  Run tests in a containerized environment. HTML report is served on port 9323.

- âœ… **GitHub Actions**  
  CI pipeline runs tests on every push and pull request to `main`. Test results are uploaded as artifacts.

---

## **Usage**

### ğŸ”§ Local Run

Clone the repo and install dependencies:

```bash
npm install
npx playwright install --with-deps
```
Run tests (headed mode):

```bash
npx playwright test --headed
```
Run tests (headless mode):

```bash
npx playwright test
```
Open HTML report after local run:

```bash
npx playwright show-report
```
Override base URL:

```bash
BASE_URL="https://www.amazon.co.uk/" npx playwright test
```
## **ğŸ³ Docker Run**
Build and run the container:

```bash
docker compose up --build
```
View the report in your browser:

```Code
http://localhost:9323
```
To stop the container:

```bash
Ctrl+C
```
## **ğŸš€ GitHub Actions CI**
Tests run automatically on:

- **Push to main**

- **Pull request to main**

- **Manual trigger via workflow dispatch**

### Artifacts:

- **HTML report is uploaded and retained for 30 days.**

## **Project Structure**

```Code
.
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ specs/              # Test suites organized by feature
â”‚   â”œâ”€â”€ pages/              # Page object models
â”‚   â””â”€â”€ utils/              # Shared utilities
â”œâ”€â”€ playwright.config.ts    # Playwright configuration
â”œâ”€â”€ docker-compose.yml      # Docker setup
â”œâ”€â”€ Dockerfile              # Container definition
â”œâ”€â”€ run-tests.sh            # Entrypoint script for container
â””â”€â”€ .github/workflows/      # CI pipeline
```

## **Issues**
If you encounter flaky tests or modal-related failures in CI, refer to the modal handling logic in NavBar.ts and ContactPage.ts. These have been hardened to work reliably in headless environments.

## **Roadmap**
This project is a proof of concept for smoke testing with Playwright. Future enhancements may include:

âœ… GitHub annotations for inline test warnings and errors.

âœ… Slack or Teams integration for alerting on critical failures.

âœ… Parallel test execution across browsers and devices.

âœ… Environment matrix for staging vs production testing.

âœ… Trace viewer integration for debugging flaky tests.

âœ… Auto-publish HTML reports to GitHub Pages.
